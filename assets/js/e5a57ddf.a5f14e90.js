"use strict";(self.webpackChunkutils_docs=self.webpackChunkutils_docs||[]).push([[272],{2465:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=n(4848),i=n(8453);const s={sidebar_position:2},o="url",a={id:"Utils/url",title:"url",description:"type LoginInfo",source:"@site/docs/Utils/url.md",sourceDirName:"Utils",slug:"/Utils/url",permalink:"/docs/Utils/url",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Utils/url.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"promise",permalink:"/docs/Utils/promise"},next:{title:"websocket",permalink:"/docs/Utils/websocket"}},c={},l=[{value:"type LoginInfo",id:"type-logininfo",level:3},{value:"Options",id:"options",level:4},{value:"getLoginInfoFromURL",id:"getlogininfofromurl",level:3},{value:"getDefaultActiveAccount",id:"getdefaultactiveaccount",level:3},{value:"Options",id:"options-1",level:4},{value:"filterSearchParams",id:"filtersearchparams",level:3},{value:"Options",id:"options-2",level:4},{value:"getOauthURL",id:"getoauthurl",level:3},{value:"getServerURL",id:"getserverurl",level:3},{value:"getWebsocketURL",id:"getwebsocketurl",level:3},{value:"getQueryParameter",id:"getqueryparameter",level:3},{value:"Options",id:"options-3",level:4},{value:"normalizePath",id:"normalizepath",level:3},{value:"Options",id:"options-4",level:4},{value:"getDerivStaticURL",id:"getderivstaticurl",level:3},{value:"Options",id:"options-5",level:4}];function d(e){const t={code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"url",children:"url"}),"\n",(0,r.jsx)(t.h3,{id:"type-logininfo",children:"type LoginInfo"}),"\n",(0,r.jsx)(t.p,{children:"Defines the structure for account information."}),"\n",(0,r.jsx)(t.h4,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"loginid: string"})," - The loginid for the account."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"currency: string"})," - The currency code for the account."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"token: string"})," - The authentication token for the account."]}),"\n",(0,r.jsx)(t.h3,{id:"getlogininfofromurl",children:"getLoginInfoFromURL"}),"\n",(0,r.jsx)(t.p,{children:"Extracts the login information from thxe URL's query parameters."}),"\n",(0,r.jsxs)(t.p,{children:["This function parses the window's current URL search parameters looking for account, token, and currency information.\nIt constructs an array of partially formed ",(0,r.jsx)(t.code,{children:"LoginInfo"})," objects and filters out any entries that do not have all required properties.\nIt also returns a list of parameter keys that are related to account information and can be deleted."]}),"\n",(0,r.jsxs)(t.p,{children:["It returns ",(0,r.jsx)(t.code,{children:"{loginInfo: LoginInfo[], paramsToDelete: string[]}"})," An object containing an array of ",(0,r.jsx)(t.code,{children:"LoginInfo"})," objects and an array of parameter keys to delete."]}),"\n",(0,r.jsx)(t.h3,{id:"getdefaultactiveaccount",children:"getDefaultActiveAccount"}),"\n",(0,r.jsx)(t.p,{children:'Retrieves the default active account from a list of login information.\nThe default account is determined by finding the first account with a login ID that starts with "VR".\nIf no such account is found, the first account in the list is returned.'}),"\n",(0,r.jsxs)(t.p,{children:["It returns the default active account based on the specified criteria. If the list is empty, ",(0,r.jsx)(t.code,{children:"undefined"})," is returned."]}),"\n",(0,r.jsx)(t.h4,{id:"options-1",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"loginInfo[optional]: { loginid: string; currency: string; token: string }[]"})," - An array of login information."]}),"\n",(0,r.jsx)(t.h3,{id:"filtersearchparams",children:"filterSearchParams"}),"\n",(0,r.jsx)(t.p,{children:"Filters and removes specified search parameters from the current URL.\nThis function modifies the current URL's query string by removing the specified search parameters and then updates the history state."}),"\n",(0,r.jsx)(t.h4,{id:"options-2",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"searchParamsToRemove[required]: string[]"})," - An array of search parameter keys to remove from the current URL."]}),"\n",(0,r.jsx)(t.h3,{id:"getoauthurl",children:"getOauthURL"}),"\n",(0,r.jsxs)(t.p,{children:["Constructs the OAuth URL with query parameters for ",(0,r.jsx)(t.strong,{children:"language"}),", ",(0,r.jsx)(t.strong,{children:"app_id"}),", and ",(0,r.jsx)(t.strong,{children:"brand"}),".\nThe language is retrieved from local storage or ",(0,r.jsx)(t.strong,{children:'defaults to "EN"'})," if not set. The app_id and brand are obtained from constants."]}),"\n",(0,r.jsx)(t.p,{children:"It returns the constructed OAuth URL (string)."}),"\n",(0,r.jsx)(t.h3,{id:"getserverurl",children:"getServerURL"}),"\n",(0,r.jsx)(t.p,{children:"Determines the server URL based on the active login ID.\nIt first attempts to retrieve the server URL from local storage. If not found, it uses the active login ID to determine the server URL from predefined environments."}),"\n",(0,r.jsx)(t.p,{children:"It returns The determined server URL."}),"\n",(0,r.jsx)(t.h3,{id:"getwebsocketurl",children:"getWebsocketURL"}),"\n",(0,r.jsxs)(t.p,{children:["Constructs the WebSocket URL with query parameters for app_id, language, and brand.\nThe server URL is determined by calling ",(0,r.jsx)(t.code,{children:"getServerURL"}),", and the language is retrieved from local storage or ",(0,r.jsx)(t.strong,{children:'defaults to "EN"'})," if not set."]}),"\n",(0,r.jsx)(t.p,{children:"It returns The constructed WebSocket URL."}),"\n",(0,r.jsx)(t.h3,{id:"getqueryparameter",children:"getQueryParameter"}),"\n",(0,r.jsx)(t.p,{children:"Extracts query parameters from the URL by parsing the current window's URL search parameters for the specified key.\nIt returns the query parameters associated with the given key."}),"\n",(0,r.jsx)(t.h4,{id:"options-3",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"key[required]: QueryParameters"})," - The query parameter we want. (you can see all of them in the ",(0,r.jsx)(t.strong,{children:"URLConstants.queryParameters"}),")"]}),"\n",(0,r.jsx)(t.h3,{id:"normalizepath",children:"normalizePath"}),"\n",(0,r.jsxs)(t.p,{children:["Takes a ",(0,r.jsx)(t.strong,{children:"URL path"})," as input and removes certain characters from the beginning and end of the path."]}),"\n",(0,r.jsx)(t.p,{children:"It removes the following:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Any leading forward slash (/) at the beginning of the path."}),"\n",(0,r.jsx)(t.li,{children:"Any trailing forward slash (/) at the end of the path."}),"\n",(0,r.jsx)(t.li,{children:"Any characters that are not alphanumeric, hyphen, underscore, dot, forward slash, parentheses, or hash symbol."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"It returns the formatted path without the specified characters."}),"\n",(0,r.jsx)(t.h4,{id:"options-4",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"path[required]: string"})," - The URL path that needs to be normalized."]}),"\n",(0,r.jsx)(t.h3,{id:"getderivstaticurl",children:"getDerivStaticURL"}),"\n",(0,r.jsx)(t.p,{children:"Generates a static URL for the deriv.com project based on the provided parameters.\nThis function is necessary because deriv.com URLs differ from those used in app.deriv.com"}),"\n",(0,r.jsx)(t.p,{children:"It returns the formatted static URL."}),"\n",(0,r.jsx)(t.h4,{id:"options-5",children:"Options"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"path[required]: string"})," - The path to be appended to the base URL."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"options[optional]: { isDocument?: boolean; isEU?: boolean; }"})," - Optional configuration for customising the Deriv Static URL, including:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"isDocument"}),": Specifies whether the path represents a document."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"isEU"}),": Specifies whether the URL should be generated for the EU production environment."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(6540);const i={},s=r.createContext(i);function o(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);